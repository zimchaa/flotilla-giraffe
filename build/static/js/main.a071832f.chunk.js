(this["webpackJsonpflotilla-giraffe"]=this["webpackJsonpflotilla-giraffe"]||[]).push([[0],{70:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var c=a(19),l=a.n(c),s=(a(70),a(118)),n=a(119),i=a(120),r=a(114),o=a(112),j=a(113),h=a(116),b=a(111),d=a(117),x=a(52),O=a.n(x),m=a(53),p=a.n(m),g=a(58),u=a.n(g),f=a(59),w=a.n(f),v=a(57),y=a.n(v),k=a(55),N=a.n(k),C=a(50),P=a.n(C),S=a(51),T=a.n(S),z=a(49),F=a.n(z),D=a(56),I=a.n(D),L=a(48),U=a.n(L),A=a(45),E=a.n(A),G=a(44),J=a.n(G),B=a(47),M=a.n(B),R=a(46),W=a.n(R),q=a(40),H=a.n(q),K=a(38),Q=a.n(K),V=a(42),X=a.n(V),Y=a(43),Z=a.n(Y),$=a(41),_=a.n($),ee=a(0),te=a.n(ee),ae=a(2);const ce=[{value:50,label:Object(ae.jsx)(Q.a,{})},{value:100,label:Object(ae.jsx)(H.a,{})},{value:0,label:Object(ae.jsx)(_.a,{})},{value:-50,label:Object(ae.jsx)(X.a,{})},{value:-100,label:Object(ae.jsx)(Z.a,{})}],le=[{value:-50,label:Object(ae.jsx)(J.a,{})},{value:100,label:Object(ae.jsx)(E.a,{})},{value:0,label:Object(ae.jsx)(W.a,{})},{value:50,label:Object(ae.jsx)(M.a,{})},{value:-100,label:Object(ae.jsx)(U.a,{})}],se=Object(b.a)((e=>({root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:80},papertall:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:250},thrustslider:{height:200,padding:20},diffslider:{height:20,padding:20},chip:{margin:e.spacing(.5)}})));class ne extends te.a.Component{constructor(e){super(e),this.state={x:0,y:0,z:1,heading:0}}updateTelemetry(){fetch("/telemetry",{method:"GET",redirect:"follow"}).then((e=>e.json())).then((e=>this.setState((t=>({x:e.x,y:e.y,z:e.z,heading:e.heading}))))).catch((e=>console.log("error",e)))}componentDidMount(){this.interval=setInterval((()=>this.updateTelemetry()),3e3)}componentWillUnmount(){clearInterval(this.interval)}render(){return Object(ae.jsxs)("div",{children:[Object(ae.jsx)(s.a,{icon:Object(ae.jsx)(F.a,{}),label:this.state.z.toFixed(2)}),Object(ae.jsx)("hr",{}),Object(ae.jsx)(s.a,{icon:Object(ae.jsx)(P.a,{}),label:this.state.y.toFixed(2)}),Object(ae.jsx)("hr",{}),Object(ae.jsx)(s.a,{icon:Object(ae.jsx)(T.a,{}),label:this.state.x.toFixed(2)}),Object(ae.jsx)("hr",{}),Object(ae.jsx)(s.a,{icon:Object(ae.jsx)(O.a,{}),label:this.state.heading.toFixed(1)}),Object(ae.jsx)("hr",{})]})}}function ie(){const e=se(),[t,a]=te.a.useState(0),[c,l]=te.a.useState(0),[b,x]=te.a.useState({left:0,right:0}),[O,m]=te.a.useState({switch1:!1,switch2:!1,switch3:!1,switch4:!1}),[g,f]=te.a.useState({manualswitch:!1}),v=(e,a)=>{if(console.log("thrust new/current: "+e+"/"+t),console.log("diff new/current: "+a+"/"+c),e!==t||a!==c){var l={thrust:"/thrust/"+e+"/diff/"+a};console.log(l.thrust),fetch(l.thrust,{method:"PUT",redirect:"follow"}).then((e=>e.json())).then((e=>k(e))).then((e=>console.log(e))).catch((e=>console.log("error",e)))}else console.log("no change")},k=e=>(x(e.motorspeeds),a(e.thrust),l(e.diff),e),C=e=>{m({...O,[e.target.name]:e.target.checked}),"switch1"===e.target.name&&(e=>{var t="/rainbow";e?t=(t+="/6")+"/255/150/200/150":t+="/5",console.log(t),fetch(t,{method:"PUT",redirect:"follow"}).then((e=>e.json())).then((e=>console.log(e))).catch((e=>console.log("error",e)))})(e.target.checked),console.log("switch: "+e.target.name+"\nchecked: "+e.target.checked)};return Object(ae.jsx)("div",{className:e.root,children:Object(ae.jsxs)(o.a,{container:!0,spacing:2,children:[Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsx)(j.a,{className:e.papertall,children:Object(ae.jsx)("div",{className:e.thrustslider,children:Object(ae.jsx)(h.a,{value:t,onChange:(e,t)=>{a(t),v(t,c)},"aria-labelledby":"thrustslider",orientation:"vertical",max:100,min:-100,marks:ce,valueLabelDisplay:"auto",step:10,track:!1,name:"thrustslider"})})})}),Object(ae.jsx)(o.a,{item:!0,xs:8,children:Object(ae.jsx)(j.a,{className:e.papertall,id:"p5-telemetry",children:Object(ae.jsx)("img",{src:"/stream/video.mjpeg",height:"100%",alt:"Live stream: Robot"})})}),Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsxs)(j.a,{className:e.papertall,children:[Object(ae.jsx)(ne,{}),Object(ae.jsx)(s.a,{icon:Object(ae.jsx)(p.a,{}),label:b.left+"/"+b.right})]})}),Object(ae.jsx)(o.a,{item:!0,xs:2}),Object(ae.jsx)(o.a,{item:!0,xs:8,children:Object(ae.jsx)(j.a,{className:e.paper,children:Object(ae.jsx)("div",{className:e.diffslider,children:Object(ae.jsx)(h.a,{value:c,onChange:(e,a)=>{l(a),v(t,a)},"aria-labelledby":"diffslider",max:100,min:-100,marks:le,valueLabelDisplay:"auto",step:10,track:!1,name:"diffslider"})})})}),Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsx)(j.a,{className:e.paper,children:Object(ae.jsx)(n.a,{component:"fieldset",children:Object(ae.jsx)(r.a,{"aria-label":"position",row:!0,children:Object(ae.jsx)(i.a,{value:"manualswitchcontrol",control:Object(ae.jsx)(d.a,{color:"primary",checked:g.manualswitch,onChange:e=>{f({...g,[e.target.name]:e.target.checked}),console.log("switch: "+e.target.name+"\nchecked: "+e.target.checked)},name:"manualswitch",disabled:!0}),label:Object(ae.jsx)(N.a,{}),labelPlacement:"top"})})})})}),Object(ae.jsx)(o.a,{item:!0,xs:2}),Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsx)(j.a,{className:e.paper,children:Object(ae.jsx)(n.a,{component:"fieldset",children:Object(ae.jsx)(r.a,{"aria-label":"position",row:!0,children:Object(ae.jsx)(i.a,{value:"switch1control",control:Object(ae.jsx)(d.a,{color:"primary",checked:O.switch1,onChange:C,name:"switch1"}),label:Object(ae.jsx)(I.a,{}),labelPlacement:"top"})})})})}),Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsx)(j.a,{className:e.paper,children:Object(ae.jsx)(n.a,{component:"fieldset",children:Object(ae.jsx)(r.a,{"aria-label":"position",row:!0,children:Object(ae.jsx)(i.a,{value:"switch2control",control:Object(ae.jsx)(d.a,{color:"primary",checked:O.switch2,onChange:C,name:"switch2"}),label:Object(ae.jsx)(y.a,{}),labelPlacement:"top"})})})})}),Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsx)(j.a,{className:e.paper,children:Object(ae.jsx)(n.a,{component:"fieldset",children:Object(ae.jsx)(r.a,{"aria-label":"position",row:!0,children:Object(ae.jsx)(i.a,{value:"switch3control",control:Object(ae.jsx)(d.a,{color:"primary",checked:O.switch3,onChange:C,name:"switch3"}),label:Object(ae.jsx)(u.a,{}),labelPlacement:"top"})})})})}),Object(ae.jsx)(o.a,{item:!0,xs:2,children:Object(ae.jsx)(j.a,{className:e.paper,children:Object(ae.jsx)(n.a,{component:"fieldset",children:Object(ae.jsx)(r.a,{"aria-label":"position",row:!0,children:Object(ae.jsx)(i.a,{value:"switch4control",control:Object(ae.jsx)(d.a,{color:"primary",checked:O.switch4,onChange:C,name:"switch4"}),label:Object(ae.jsx)(w.a,{}),labelPlacement:"top"})})})})})]})})}const re=document.getElementById("root");l.a.render(Object(ae.jsx)(ie,{}),re)}},[[78,1,2]]]);
//# sourceMappingURL=main.a071832f.chunk.js.map